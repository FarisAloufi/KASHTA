

/**
 * دالة لاسترجاع النص المناسب حسب اللغة الحالية
 * @param {object|string} data - الحقل القادم من الداتابيس (قد يكون نص قديم أو كائن جديد)
 * @param {string} lang - لغة التطبيق الحالية ('ar' أو 'en')
 */
export const getLocalized = (data, lang) => {
  // 1. حماية من البيانات الفارغة
  if (!data) return "";

  // 2. دعم البيانات القديمة (إذا كان الحقل مجرد نص عادي لم يتم تحديثه بعد)
  if (typeof data === 'string') {
    return data; 
  }

  // 3. المنطق الرئيسي: إرجاع اللغة المطلوبة
  if (lang === 'en') {
    // حاول إرجاع الإنجليزي، لو كان فارغاً أرجع العربي كاحتياط
    return data.en || data.ar || "";
  } else {
    // الحالة الافتراضية (عربي)
    return data.ar || data.en || "";
  }
};